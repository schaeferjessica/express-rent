<div class="container mx-auto pl-8 pr-8">
  {{> navigation }}

  <div class="mt-10 grid grid-cols-1 lg:grid-cols-3 lg:gap-10">
    <!--form-->
    <div>
      <h2>Profile</h2>
      <div class="border-b-2 mt-3 border-blue-200"></div>

      <form action="/profile?_method=patch" method="POST">
        <div class="mt-5">
          <label for="name" class="block">Full Name</label>
          <input type="text" name="name" id="name" value="{{user.name}}"
            class="p-2 mt-1 border block w-full border-gray-400 rounded">
        </div>

        <div class="mt-5">
          <label for="email" class="block">Email address</label>
          <input type="email" name="email" id="email" autocomplete="email" value="{{user.email}}"
            class="p-2 mt-1 block w-full border border-gray-400 rounded">
        </div>

        <div class="mt-5">
          <label for="url" class="block">Photo URL</label>
          <input type="text" name="url" id="url" value="{{user.url}}"
            class="p-2 mt-1 block w-full border border-gray-400 rounded">
        </div>

        <button type="submit" class="mt-5 button">Save</button>
      </form>
    </div>

    <!--list-->
    <div class="mt-10 lg:mt-0 lg:col-span-2">
      <h2>Listings</h2>
      <div class="border-b-2 mt-3 border-blue-200"></div>
      <a href="/houses/create" class="mt-5 button inline-block">List a House</a>

      {{#if houses}}
      <!--grid-->
      <ul class="mt-5">
        {{#each houses as |house|}}
        <li class="border border-blue-200 rounded grid grid-row-2 sm:grid-cols-2 gap-4 mt-5">
          <a href="/houses/{{house._id}}">
            <img class="lg:h-full object-cover" src="{{house.photos.[0]}}" alt="house">
          </a>

          <div class="p-2">
            <h2><a href="/houses/{{house._id}}" class="link">{{house.title}}</a></h2>
            <span class="mt-2 text-xs">{{house.location}}, {{house.rooms}} Rooms</span>

            <p>{{house.description}}</p>
            <a href="/houses/{{house._id}}/edit" class="mt-5 button inline-block">Edit</a>
            <a href="/houses/{{house._id}}" class="mt-5 button inline-block">View</a>
            <form action="/houses{{house._id}}?_method=delete" method="POST" class="mt-5 button inline-block">
              <a href="/houses/{{house._id}}">Delete</a>
            </form>

          </div>
        </li>
        {{/each}}
      </ul>

      {{else}}
      <div class="mt-5 border border-red-300 px-4 py-3 rounded relative">
        <strong class="font-bold">No</strong>
        <span>listings</span>
      </div>
      {{/if}}

      <!--footer-->
      {{> footer }}

    </div>
  </div>

</div>